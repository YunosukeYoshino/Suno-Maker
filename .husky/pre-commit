#!/bin/sh
. "$(dirname -- "$0")/_/husky.sh"

# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾ã—ã¦ã®ã¿ lint-staged ã‚’å®Ÿè¡Œ
bunx lint-staged

# TypeScriptå‹ãƒã‚§ãƒƒã‚¯ï¼ˆãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤ãï¼‰
bunx tsc --noEmit --skipLibCheck

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆè­¦å‘Šã®å ´åˆã¯ãƒ‘ã‚¹ï¼‰
bun test || true

# Claude Code Reviewï¼ˆçŸ¥è¦‹æ›´æ–°ãƒã‚§ãƒƒã‚¯ä»˜ãï¼‰
echo "ğŸ¤– Claude Code Review & Learning Check..."
claude --print "/learnings - Check if staged changes contain new learnings that should be documented. Review code for DDD/TDD compliance and suggest improvements." --allowedTools "Bash(git:*) Read Grep Edit" || echo "âš ï¸ Claude analysis unavailable, continuing..."
